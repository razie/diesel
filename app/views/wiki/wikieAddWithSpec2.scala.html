@****************
create new page given a template
****************@
@(cat:String, name:String, formWid:razie.wiki.model.WID, formPage:Option[razie.wiki.model.WikiEntry], torspec:String, errors:Map[String,String])(implicit stok:controllers.StateOk)
@import controllers.IgnoreErrors
@import razie.diesel.dom.WikiDomain
@import razie.wiki.model.Wikis

@stok.title("Create new with template")

<h3>Creating a new <em>@cat</em>, with <em>@formWid.name</em></h3>

<p>Fill in the required attributes below.</p>

@helper.form(
  action=routes.Wikie.addWithSpec(cat, name, formWid.wpath, torspec:String, stok.realm),
  'class->"alert alert-info form-inline col-sm-12") {

  @** you can override the entire form in your template *@
  @if(!formPage.exists(_.form.fields.contains("name"))) {
    @WikiDomain(stok.realm).prop(cat, "label.createWithTemplate").getOrElse {
      @if(cat == "Reactor") {
        Use
        a simple punchy single word, like "<b>mysite</b>" - your new website will be
        available at <b><small>http://mysite.dieselapps.com</small></b>
      } else {
        Give it a name...
      }
    }

    <p></p><p>
      <div class="form-group">
      <label for="name">Name:</label> <input type="text" class="input-lg" name="name" placeholder="Name" value="@name">
  </div>

    @if(cat == "Reactor") {
  <p></p>
      <div class="form-group">
    <label for="access">Default access:</label>
        <select name="access">
          <option value="Public">Public - anyone can see content</option>
          <option value="Member">Member - only members can see content</option>
        </select>
  </div>
        @*<input type="text" class="input-lg" name="name" placeholder="Name" value="@name">*@
    }

    <hr>
    <p>More particulars:</p>
  }

  @wiki.wikiFormInt(formWid, Some(name), formPage, errors, false, false, true)
<hr>
  <button type="submit" class="btn btn-primary">Create Now!</button>
}

<hr>

