@**************
render a regular wiki page - site pages are rendered with wikiSite.scala.html
**************@

@(wid:model.WID, iname:Option[String], page:Option[model.WikiEntry], user:Option[model.User], canEdit:Boolean, print:Boolean=false)
@import model._

@label()=@{ page.map(_.label).getOrElse(model.Wikis.label(wid)) }

@htmlHead(page.flatMap(_.contentTags.get("title")).getOrElse(wid.cat +": "+ label))
@if(!print) {@navbar(user)}
   
<div class="container">
  <div class="row">
  
    <div class="span9">

      <div class="well">
        @wiki.wikiFrag(wid,user,false,page, iname, false, true, canEdit)
      </div>

      @wiki.wikiAddMore(wid, page, user)

      @wiki.wikiPageComments(wid, page, user)

      <hr>
      @htmlFooter(ads = !page.exists(_.content.matches("""(?s).*\{\{ad[:}].*\{\{ad[:}].*""")))

    </div> <!-- /span9 -->

    <div class="span3">
    @wiki.wikiFrag(WID("Admin","Right"),user,true)

    @addRight()
    </div>

  </div> <!-- row -->
</div> <!-- /container -->

@htmlBottom()
    